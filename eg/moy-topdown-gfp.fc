# Constraint-abstraction from figure 1a from Moy's paper in VMCAI'08

loop:={[i,n,s]->[Pi,Pn,Ps]->[]: 
  exists(i1,n1,s1: 
     (i1=i+1 && n1=n && s1=s && loop(i1,n1,s1,Pi,Pn,Ps))
	)};

I:={[]: 1=1};

F0:={[i,n,s]:
  (n<=i) || (0<=i && n<=s)
};
F1:=loop(F0); 
F1:=F1 intersection I;

F2:=loop(F1);
F2:=F2 intersection I;

F3:=loop(F2);
F3:=F3 intersection I;

F4:=loop(F3);
F4:=F4 intersection I;

F1;F2;F3;F4;

F3:=PairwiseCheck F3;
F4:=PairwiseCheck F4;
F3;
F4;

F4N:=narrow(F3,F4,SimHeur);
F4N;
